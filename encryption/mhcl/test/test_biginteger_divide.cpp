#define BOOST_TEST_MODULE BigIntegerTestDivide
#include <boost/test/unit_test.hpp>

#include "../src/biginteger/biginteger.hpp"
#include "../src/biginteger/dividebyzeroexception.hpp"

//Ground truth for calculation is https://www.calculator.net/big-number-calculator.html

// check group axioms https://en.wikipedia.org/wiki/Group_(mathematics) - doesnt really work well for integer division
// identity element
BOOST_AUTO_TEST_SUITE(IDENTITY_ELEMENT)
BOOST_AUTO_TEST_CASE(DIVISION_ONE_LENGTH1_184_LENGTH2_1_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("1");
    BOOST_CHECK_EQUAL(b.getNumber(), "7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
}
BOOST_AUTO_TEST_CASE(DIVISION_ONE_LENGTH1_1_LENGTH2_184_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("1");
    b.divide("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}
BOOST_AUTO_TEST_CASE(DIVISION_ONE_LENGTH1_184_LENGTH2_1_SIGN1_MINUS_SIGN2_PLUS)
{
    BigInteger b("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("1");
    BOOST_CHECK_EQUAL(b.getNumber(), "-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
}
BOOST_AUTO_TEST_CASE(DIVISION_ONE_LENGTH1_1_LENGTH2_184_SIGN1_PLUS_SIGN2_MINUS)
{
    BigInteger b("1");
    b.divide("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}
BOOST_AUTO_TEST_SUITE_END()

// inverse element - techincally doesnt exist for integerdivision
// so instead i will check division with zero here, again no -0 here since constructor tests checked for it to be equal to 0
BOOST_AUTO_TEST_SUITE(INVERSE_ELEMENT)
BOOST_AUTO_TEST_CASE(DIVISION_ZERO_LENGTH1_184_LENGTH2_1_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_THROW(b.divide("0"), DivideByZeroException);
}
BOOST_AUTO_TEST_CASE(DIVISION_ZERO_LENGTH1_1_LENGTH2_184_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("0");
    b.divide("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}
BOOST_AUTO_TEST_CASE(DIVISION_ZERO_LENGTH1_184_LENGTH2_1_SIGN1_MINUS_SIGN2_PLUS)
{
    BigInteger b("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_THROW(b.divide("0"), DivideByZeroException);
}
BOOST_AUTO_TEST_CASE(DIVISION_ZERO_LENGTH1_1_LENGTH2_184_SIGN1_PLUS_SIGN2_MINUS)
{
    BigInteger b("0");
    b.divide("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}
BOOST_AUTO_TEST_SUITE_END()

// equal number
BOOST_AUTO_TEST_SUITE(EQUAL_NUMBER)
BOOST_AUTO_TEST_CASE(DIVISION_EQUAL_LENGTH1_184_LENGTH2_184_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "1");
}
BOOST_AUTO_TEST_CASE(DIVISION_EQUAL_LENGTH1_184_LENGTH2_184_SIGN1_MINUS_SIGN2_PLUS)
{
    BigInteger b("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "-1");
}
BOOST_AUTO_TEST_CASE(DIVISION_EQUAL_LENGTH1_184_LENGTH2_184_SIGN1_PLUS_SIGN2_MINUS)
{
    BigInteger b("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "-1");
}
BOOST_AUTO_TEST_CASE(DIVISION_EQUAL_LENGTH1_184_LENGTH2_184_SIGN1_MINUS_SIGN2_MINUS)
{
    BigInteger b("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "1");
}
BOOST_AUTO_TEST_SUITE_END()

// inequal length
BOOST_AUTO_TEST_SUITE(INEQUAL_LENGTH)
BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_184_LENGTH2_251_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("10472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357457230857106002180626509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_251_LENGTH2_184_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("10472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357457230857106002180626509330");
    b.divide("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "1318679765551065001943859584297537376192044369384503773272057893155");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_184_LENGTH2_251_SIGN1_MINUS_SIGN2_PLUS)
{
    BigInteger b("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("10472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357457230857106002180626509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_184_LENGTH2_251_SIGN1_PLUS_SIGN2_MINUS)
{
    BigInteger b("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    b.divide("-10472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357457230857106002180626509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_251_LENGTH2_184_SIGN1_MINUS_SIGN2_PLUS)
{
    BigInteger b("-10472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357457230857106002180626509330");
    b.divide("7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "-1318679765551065001943859584297537376192044369384503773272057893155");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_251_LENGTH2_184_SIGN1_PLUS_SIGN2_MINUS)
{
    BigInteger b("10472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357457230857106002180626509330");
    b.divide("-7941336097231331222328305438625646002846406186146402399842122390970234239963370898300943198440768677925436553855703282917116959906917075742261367262117888460342170898243453976126509330");
    BOOST_CHECK_EQUAL(b.getNumber(), "-1318679765551065001943859584297537376192044369384503773272057893155");
}
BOOST_AUTO_TEST_SUITE_END()

// equal length
BOOST_AUTO_TEST_SUITE(EQUAL_LENGTH)
BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_300_LENGTH2_300_SIGN1_PLUS_SIGN2_PLUS)
{
    BigInteger b("723085710600218062650933023587923476589623894235324510472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357453244654778967912376582");
    b.divide("865974983284573850973248597342896572389732589237459235769327452834737892357357326823409812079108497283450964987345678562913402135007658050090132094237476126465235676757786798009856890546097809408787512737541726847621635416573127646523675742657935769784537806784370579324523453479126734810209109091901");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_300_LENGTH2_300_SIGN1_PLUS_SIGN2_PLUS_SWAPPED)
{
    BigInteger b("865974983284573850973248597342896572389732589237459235769327452834737892357357326823409812079108497283450964987345678562913402135007658050090132094237476126465235676757786798009856890546097809408787512737541726847621635416573127646523675742657935769784537806784370579324523453479126734810209109091901");
    b.divide("723085710600218062650933023587923476589623894235324510472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357453244654778967912376582");
    BOOST_CHECK_EQUAL(b.getNumber(), "1");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_300_LENGTH2_300_SIGN1_MINUS_SIGN2_PLUS)
{
    BigInteger b("-723085710600218062650933023587923476589623894235324510472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357453244654778967912376582");
    b.divide("865974983284573850973248597342896572389732589237459235769327452834737892357357326823409812079108497283450964987345678562913402135007658050090132094237476126465235676757786798009856890546097809408787512737541726847621635416573127646523675742657935769784537806784370579324523453479126734810209109091901");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_300_LENGTH2_300_SIGN1_PLUS_SIGN2_MINUS)
{
    BigInteger b("723085710600218062650933023587923476589623894235324510472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357453244654778967912376582");
    b.divide("-865974983284573850973248597342896572389732589237459235769327452834737892357357326823409812079108497283450964987345678562913402135007658050090132094237476126465235676757786798009856890546097809408787512737541726847621635416573127646523675742657935769784537806784370579324523453479126734810209109091901");
    BOOST_CHECK_EQUAL(b.getNumber(), "0");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_300_LENGTH2_300_SIGN1_MINUS_SIGN2_PLUS_SWAPPED)
{
    BigInteger b("-865974983284573850973248597342896572389732589237459235769327452834737892357357326823409812079108497283450964987345678562913402135007658050090132094237476126465235676757786798009856890546097809408787512737541726847621635416573127646523675742657935769784537806784370579324523453479126734810209109091901");
    b.divide("723085710600218062650933023587923476589623894235324510472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357453244654778967912376582");
    BOOST_CHECK_EQUAL(b.getNumber(), "-1");
}

BOOST_AUTO_TEST_CASE(DIVISION_LENGTH1_300_LENGTH2_300_SIGN1_PLUS_SIGN2_MINUS_SWAPPED)
{
    BigInteger b("865974983284573850973248597342896572389732589237459235769327452834737892357357326823409812079108497283450964987345678562913402135007658050090132094237476126465235676757786798009856890546097809408787512737541726847621635416573127646523675742657935769784537806784370579324523453479126734810209109091901");
    b.divide("-723085710600218062650933023587923476589623894235324510472079222859221398754678393418559797973621216294048724576577938038535767825619122335501093164112970424167564557439936425971731353840543886387599029948514091103121167882144867257898921128471050387920147237806845988151758357453244654778967912376582");
    BOOST_CHECK_EQUAL(b.getNumber(), "-1");
}
BOOST_AUTO_TEST_SUITE_END()